<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ljs.dao.MenuMapper">

    <!-- 查询权限列表 -->
    <select id="findMenu" resultType="menuInfo">
      select * from base_menu where leval=#{leval} and parentId=#{pid}
    </select>

    <!-- 根据角色id查询 -->
    <select id="findMenuByRoleId" resultType="long">
      select bm.id from base_menu bm
        left join base_role_menu brm on bm.id=brm.menuId
        where brm.roleId=#{roleId} and bm.leval=4
    </select>

</mapper>